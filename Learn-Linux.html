<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"><link rel="mask-icon" href="/images/favicon-32x32.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css" integrity="sha256-no0c5ccDODBwp+9hSmV5VvPpKwHCpbVzXHexIkupM6U=" crossorigin="anonymous"><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js" integrity="sha256-a5YRB27CcBwBFcT5EF/f3E4vzIqyHrSR878nseNYw64=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;www.wrysmile.cn&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Gemini&quot;,&quot;version&quot;:&quot;8.5.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:true,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;manual&quot;},&quot;fancybox&quot;:true,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;},&quot;path&quot;:&quot;&#x2F;search.xml&quot;,&quot;localsearch&quot;:{&quot;enable&quot;:true,&quot;trigger&quot;:&quot;auto&quot;,&quot;top_n_per_article&quot;:1,&quot;unescape&quot;:false,&quot;preload&quot;:false}}</script><script src="/js/config.js"></script><meta name="description" content="介绍  本文主要记录在学习尚硅谷的 Linux 课程时的一些笔记 尚硅谷前端学科全套课程请点击这里进行下载，提取码：afyt"><meta property="og:type" content="article"><meta property="og:title" content="学习笔记：Linux（尚硅谷）"><meta property="og:url" content="https://www.wrysmile.cn/Learn-Linux.html"><meta property="og:site_name" content="Wrysmile 的博客"><meta property="og:description" content="介绍  本文主要记录在学习尚硅谷的 Linux 课程时的一些笔记 尚硅谷前端学科全套课程请点击这里进行下载，提取码：afyt"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHuDO.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHQVe.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHKbD.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHk59.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHECR.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHV81.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHZgx.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHev6.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHiE4.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHnKK.png"><meta property="og:image" content="https://s1.ax1x.com/2020/10/20/0zHFUJ.png"><meta property="article:published_time" content="2019-03-10T14:51:22.000Z"><meta property="article:modified_time" content="2023-01-31T10:23:56.192Z"><meta property="article:author" content="Zhang Yangeng"><meta property="article:tag" content="学习"><meta property="article:tag" content="Linux"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://s1.ax1x.com/2020/10/20/0zHuDO.png"><link rel="canonical" href="https://www.wrysmile.cn/Learn-Linux.html"><script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;www.wrysmile.cn&#x2F;Learn-Linux.html&quot;,&quot;path&quot;:&quot;Learn-Linux.html&quot;,&quot;title&quot;:&quot;学习笔记：Linux（尚硅谷）&quot;}</script><script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script><title>学习笔记：Linux（尚硅谷） | Wrysmile 的博客</title><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=+new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/13e39436.js","daovoice"),daovoice("init",{app_id:"13e39436"}),daovoice("update")</script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="Wrysmile 的博客" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">Wrysmile 的博客</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">欢迎来到我的个人小屋</p><img class="custom-logo-image" src="/images/favicon-32x32.png" alt="Wrysmile 的博客"></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">介绍</span></a></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">一、基础部分</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9"><span class="nav-text">1.学习内容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AD%A6%E4%B9%A0%E6%96%B9%E5%90%91"><span class="nav-text">2.学习方向</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E8%BF%9B%E9%98%B6%E4%B9%8B%E8%B7%AF"><span class="nav-text">3.进阶之路</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-VM%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="nav-text">4.VM虚拟机相关知识</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-text">5.目录结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95"><span class="nav-text">6.远程登录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="nav-text">7.用户管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="nav-text">(1).添加用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%B7%BB%E5%8A%A0%E5%AF%86%E7%A0%81"><span class="nav-text">(2).添加密码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="nav-text">(3).删除用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7"><span class="nav-text">(4).查询用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7"><span class="nav-text">(5).切换用户</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E7%9B%B8%E5%85%B3%E6%96%87%E4%BB%B6"><span class="nav-text">(6).相关文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E7%94%A8%E6%88%B7%E7%BB%84"><span class="nav-text">8.用户组</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%A2%9E%E5%8A%A0%E7%BB%84"><span class="nav-text">(1).增加组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%A0%E9%99%A4%E7%BB%84"><span class="nav-text">(2).删除组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BF%AE%E6%94%B9%E7%BB%84"><span class="nav-text">(3).修改组</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">二、指令部分</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%B8%AE%E5%8A%A9%E7%B1%BB"><span class="nav-text">1.帮助类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-man"><span class="nav-text">(1).man</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-help"><span class="nav-text">(2).help</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%8E%8B%E7%BC%A9%E7%B1%BB"><span class="nav-text">2.压缩类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-gzip-gunzip"><span class="nav-text">(1).gzip&#x2F;gunzip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-zip-unzip"><span class="nav-text">(2).zip&#x2F;unzip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-tar"><span class="nav-text">(3).tar</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%94%A8%E6%88%B7%E7%B1%BB"><span class="nav-text">3.用户类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-id"><span class="nav-text">(1).id</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E5%A6%82%E4%BD%95%E9%AA%8C%E8%AF%81%E4%BF%A1%E6%81%AF%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE"><span class="nav-text">！如何验证信息是否正确</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-whoami"><span class="nav-text">(2).whoami</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E7%B3%BB%E7%BB%9F%E7%B1%BB"><span class="nav-text">4.系统类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-logout"><span class="nav-text">(1).logout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-reboot"><span class="nav-text">(2).reboot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-shutdown"><span class="nav-text">(3).shutdown</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%85%B3%E6%9C%BA"><span class="nav-text">(4).关机</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-root"><span class="nav-text">(5).root</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-clear"><span class="nav-text">(6).clear</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-hostname"><span class="nav-text">(7).hostname</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-uptime"><span class="nav-text">(8).uptime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-uname"><span class="nav-text">(9).uname</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-sync"><span class="nav-text">(10).sync</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-free"><span class="nav-text">(11).free</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB%E7%B1%BB"><span class="nav-text">5.运行级别类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#font-color-F00-%EF%BC%81%E5%BC%95%E7%94%B3%EF%BC%9A%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B9%8B%E6%80%8E%E6%A0%B7%E6%89%BE%E5%9B%9Eroot%E5%AF%86%E7%A0%81-font"><span class="nav-text">！引申：面试题之怎样找回root密码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%B1%BB"><span class="nav-text">6.文件目录类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-vi-vim"><span class="nav-text">(0).vi &amp; vim</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="nav-text">！常用命令：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="nav-text">！快捷键</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E6%B3%A8%E9%87%8A"><span class="nav-text">！注释</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-ls"><span class="nav-text">(1).ls</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-pwd"><span class="nav-text">(2).pwd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-cd"><span class="nav-text">(3).cd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-mkdir"><span class="nav-text">(4).mkdir</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-touch"><span class="nav-text">(5).touch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-cp"><span class="nav-text">(6).cp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-mv"><span class="nav-text">(7).mv</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-rm"><span class="nav-text">(8).rm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-cat"><span class="nav-text">(9).cat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-more"><span class="nav-text">(10).more</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-less"><span class="nav-text">(11).less</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12"><span class="nav-text">(12).&gt; &amp; &gt;&gt;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-echo"><span class="nav-text">(13).echo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-head"><span class="nav-text">(14).head</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-tail"><span class="nav-text">(15).tail</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-ln"><span class="nav-text">(16).ln</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-history"><span class="nav-text">(17).history</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-wc"><span class="nav-text">(18).wc</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19-du"><span class="nav-text">(19).du</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E7%B1%BB"><span class="nav-text">7.时间日期类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-date"><span class="nav-text">(1).date</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-cal"><span class="nav-text">(2).cal</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E6%90%9C%E7%B4%A2%E6%9F%A5%E6%89%BE%E7%B1%BB"><span class="nav-text">8.搜索查找类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-find"><span class="nav-text">(1).find</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-locate"><span class="nav-text">(2).locate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-grep-%E4%B8%8E"><span class="nav-text">(3).grep 与 |</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E5%B7%A5%E4%BD%9C%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="nav-text">9.工作常用类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">三、实操部分</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E7%BB%84%E7%AE%A1%E7%90%86%E5%92%8C%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-text">1.组管理和权限管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85-%E6%89%80%E5%9C%A8%E7%BB%84"><span class="nav-text">(1).查看文件所有者&#x2F;所在组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85"><span class="nav-text">(2).修改文件所有者</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E5%9C%A8%E7%BB%84"><span class="nav-text">(3).修改文件所在组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E6%89%80%E5%9C%A8%E7%BB%84"><span class="nav-text">(4).修改用户所在组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E6%9D%83%E9%99%90%E4%BB%8B%E7%BB%8D"><span class="nav-text">(5).权限介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90"><span class="nav-text">(6).修改权限</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-crond%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6"><span class="nav-text">2.crond任务调度</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%9F%BA%E7%A1%80"><span class="nav-text">(1).基础</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%AD%A5%E9%AA%A4"><span class="nav-text">(2).步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%8D%A0%E4%BD%8D%E7%AC%A6%E8%AF%B4%E6%98%8E"><span class="nav-text">(3).占位符说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7%E8%AF%B4%E6%98%8E"><span class="nav-text">(4).特殊符号说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E7%89%B9%E5%AE%9A%E6%97%B6%E9%97%B4%E6%89%A7%E8%A1%8C%E4%BB%BB%E5%8A%A1%E6%A1%88%E4%BE%8B"><span class="nav-text">(5).特定时间执行任务案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="nav-text">3.磁盘管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%88%86%E5%8C%BA"><span class="nav-text">(1).分区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%A1%AC%E7%9B%98"><span class="nav-text">(2).硬盘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%8C%82%E8%BD%BD%E6%A1%88%E4%BE%8B%E2%80%94%E2%80%94%E5%A2%9E%E5%8A%A0%E4%B8%80%E5%9D%97%E7%A1%AC%E7%9B%98"><span class="nav-text">(3).挂载案例——增加一块硬盘</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%B7%BB%E5%8A%A0%E7%A1%AC%E7%9B%98"><span class="nav-text">1).虚拟机添加硬盘</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%88%86%E5%8C%BA"><span class="nav-text">2).分区</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="nav-text">3).格式化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%8C%82%E8%BD%BD"><span class="nav-text">4).挂载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD"><span class="nav-text">5).设置可以自动挂载</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-df"><span class="nav-text">(4).df</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E4%B8%8E%E7%AE%A1%E7%90%86"><span class="nav-text">4.网络配置与管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9CIP%E5%92%8C%E7%BD%91%E5%85%B3"><span class="nav-text">(1).查看网络IP和网关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96IP"><span class="nav-text">(2).自动获取IP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%8C%87%E5%AE%9AIP"><span class="nav-text">(3).修改配置文件指定IP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-netstat"><span class="nav-text">(4).netstat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-ifconfig"><span class="nav-text">(5).ifconfig</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"><span class="nav-text">5.进程管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%9F%BA%E7%A1%80-2"><span class="nav-text">(1).基础</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-ps"><span class="nav-text">(2).ps</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E5%91%BD%E4%BB%A41%EF%BC%9A"><span class="nav-text">！命令1：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E5%91%BD%E4%BB%A42%EF%BC%9A"><span class="nav-text">！命令2：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E8%BF%9B%E9%98%B6%EF%BC%88100-%E4%BD%BF%E7%94%A8%EF%BC%89"><span class="nav-text">！进阶（100%使用）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-kill"><span class="nav-text">(3).kill</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E6%A1%88%E4%BE%8B%E6%BC%94%E7%A4%BA%EF%BC%9A"><span class="nav-text">！案例演示：</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-pstree"><span class="nav-text">(4).pstree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Service"><span class="nav-text">(5).Service</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90"><span class="nav-text">！案例分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E6%A3%80%E6%B5%8B%E7%AB%AF%E5%8F%A3%E5%8F%B7%E6%98%AF%E5%90%A6%E8%A2%AB%E7%9B%91%E5%90%AC"><span class="nav-text">！检测端口号是否被监听</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%EF%BC%81%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%90%8D"><span class="nav-text">！查看服务名</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-chkconfig"><span class="nav-text">(6).chkconfig</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-top%EF%BC%88%E5%8A%A8%E6%80%81%E7%9B%91%E6%8E%A7%E8%BF%9B%E7%A8%8B%EF%BC%89"><span class="nav-text">(7).top（动态监控进程）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-netstat%EF%BC%88%E7%9B%91%E6%8E%A7%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%EF%BC%89"><span class="nav-text">(8).netstat（监控网络状态）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-RPM%E5%8C%85%E7%AE%A1%E7%90%86"><span class="nav-text">6.RPM包管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-yum%E5%8C%85%E7%AE%A1%E7%90%86"><span class="nav-text">7.yum包管理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">四、JavaEE定制部分</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%87%86%E5%A4%87%E6%96%87%E4%BB%B6"><span class="nav-text">1.准备文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E5%AE%89%E8%A3%85-jdk"><span class="nav-text">2.安装 jdk</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%AE%89%E8%A3%85-Tomcat"><span class="nav-text">3.安装 Tomcat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%AE%89%E8%A3%85-Eclipse"><span class="nav-text">4.安装 Eclipse</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E5%AE%89%E8%A3%85-MySQL"><span class="nav-text">5.安装 MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%8D%B8%E8%BD%BD%E6%97%A7%E7%89%88%E6%9C%AC"><span class="nav-text">(1).卸载旧版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%AE%89%E8%A3%85%E7%BC%96%E8%AF%91%E4%BB%A3%E7%A0%81%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85"><span class="nav-text">(2).安装编译代码需要的包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E9%85%8D%E7%BD%AE-MySQL"><span class="nav-text">6.配置 MySQL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%EF%BC%9A"><span class="nav-text">注意：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E5%90%AF%E5%8A%A8-MySQL"><span class="nav-text">7.启动 MySQL</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">五、大数据定制部分</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Shell-%E7%AE%80%E4%BB%8B"><span class="nav-text">1.Shell 简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Shell-%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="nav-text">2.Shell 执行方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%B5%8B%E4%BA%88%E6%9D%83%E9%99%90%E6%89%A7%E8%A1%8C"><span class="nav-text">(1).赋予权限执行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%B8%8D%E8%B5%8B%E4%BA%88%E6%9D%83%E9%99%90%E6%89%A7%E8%A1%8C"><span class="nav-text">(2).不赋予权限执行</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%8F%98%E9%87%8F"><span class="nav-text">3.变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-text">(1).系统变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-text">(2).用户自定义变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%B0%86%E5%91%BD%E4%BB%A4%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F"><span class="nav-text">(3).将命令的返回值赋值给变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-text">(4).设置环境变量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E4%BD%8D%E7%BD%AE%E5%8F%98%E9%87%8F%E5%8F%82%E6%95%B0"><span class="nav-text">4.位置变量参数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95"><span class="nav-text">(1).语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%A1%88%E4%BE%8B"><span class="nav-text">(2).案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-text">5.预定义变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E8%AF%AD%E6%B3%95-2"><span class="nav-text">(1).语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%A1%88%E4%BE%8B-2"><span class="nav-text">(2).案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">6.运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-text">(1).基本语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%A1%88%E4%BE%8B-3"><span class="nav-text">(2).案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="nav-text">7.流程控制语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E8%AF%AD%E6%B3%95"><span class="nav-text">(1).条件判断语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%B8%B8%E7%94%A8%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"><span class="nav-text">(2).常用判断条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-if-%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="nav-text">(3).if 判断语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-case-%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="nav-text">(4).case 判断语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-for-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="nav-text">(5).for 循环语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-%E6%A1%88%E4%BE%8B"><span class="nav-text">a).案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-while-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="nav-text">(6).while 循环语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="nav-text">8.读取控制台输入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E5%87%BD%E6%95%B0"><span class="nav-text">9.函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="nav-text">(1).系统函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-basename"><span class="nav-text">a).basename</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-dirname"><span class="nav-text">b).dirname</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="nav-text">(2).自定义函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B%E4%B9%8B%E5%AE%9A%E6%9C%9F%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">10.综合案例之定期备份数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90"><span class="nav-text">(1).需求分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90"><span class="nav-text">(2).思路分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-text">(3).代码实现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link"><span class="nav-text">问题解决</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E2%80%9C-etc-profile%E2%80%9D-is-read-only"><span class="nav-text">1.“&#x2F;etc&#x2F;profile” is read-only</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-bash-vim-command-not-found"><span class="nav-text">2.-bash: vim: command not found</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-bin-bash-q-command-not-found"><span class="nav-text">3.&#x2F;bin&#x2F;bash: q: command not found</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-bash-wget-command-not-found"><span class="nav-text">4.-bash: wget: command not found</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-gzip-stdin-not-in-gzip-format"><span class="nav-text">5.gzip: stdin: not in gzip format</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E5%AE%89%E8%A3%85python3%E6%8F%90%E7%A4%BAconfigure-error-no-acceptable-C-compiler-found-in-PATH"><span class="nav-text">6.安装python3提示configure: error: no acceptable C compiler found in $PATH</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Zhang Yangeng" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">Zhang Yangeng</p><div class="site-description" itemprop="description">保持独立思考，不卑不亢不怂，长成自己想要的样子！</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">69</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">52</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/zhangyangeng" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhangyangeng" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://weibo.com/u/2294901673" title="weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;2294901673" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-weibo fa-fw"></i>weibo</a></span></div><div class="cc-license site-overview-item animated" itemprop="license"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-cn" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdn.jsdelivr.net/npm/@creativecommons/vocabulary@2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div><div class="links-of-blogroll site-overview-item animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> 推荐网站</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="http://topbook.cc/" title="http:&#x2F;&#x2F;topbook.cc&#x2F;" rel="external nofollow noopener noreferrer" target="_blank">Topbook</a></li></ul></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.wrysmile.cn/Learn-Linux.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Zhang Yangeng"><meta itemprop="description" content="保持独立思考，不卑不亢不怂，长成自己想要的样子！"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Wrysmile 的博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">学习笔记：Linux（尚硅谷）</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-03-10 22:51:22" itemprop="dateCreated datePublished" datetime="2019-03-10T22:51:22+08:00">2019-03-10</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2023-01-31 18:23:56" itemprop="dateModified" datetime="2023-01-31T18:23:56+08:00">2023-01-31</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a> </span></span><span id="/Learn-Linux.html" class="post-meta-item leancloud_visitors" data-flag-title="学习笔记：Linux（尚硅谷）" title="阅读次数"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span></span></div><div class="post-meta"><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>20k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>18 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h1>介绍</h1><ul class="lvl-0"><li class="lvl-2">本文主要记录在学习尚硅谷的 Linux 课程时的一些笔记</li><li class="lvl-2">尚硅谷前端学科全套课程请点击<a target="_blank" rel="external nofollow noopener noreferrer" href="https://pan.baidu.com/s/1BM_OKMXXAGxMNqaBN_7tRg">这里</a>进行下载，提取码：afyt</li></ul><span id="more"></span><h1>一、基础部分</h1><h2 id="1-学习内容">1.学习内容</h2><ul class="lvl-0"><li class="lvl-2"><p>基础 &amp; 实操篇<br><img src="https://s1.ax1x.com/2020/10/20/0zHuDO.png" alt="linux01.png"></p></li><li class="lvl-2"><p>定制篇<br><img src="https://s1.ax1x.com/2020/10/20/0zHQVe.png" alt="linux02.png"></p></li></ul><h2 id="2-学习方向">2.学习方向</h2><ul class="lvl-0"><li class="lvl-2"><p>Linux 运维工程师：服务器的规划、调试优化、日常监控、故障处理、数据备份、日志分析</p></li><li class="lvl-2"><p>Linux 嵌入式工程师：掌握Linux下各种驱动程序开发、在嵌入式系统中进行程序开发</p></li><li class="lvl-2"><p>Linux 下开发项目：JavaEE、大数据、Python、PHP、C、C++</p></li></ul><h2 id="3-进阶之路">3.进阶之路</h2><ul class="lvl-0"><li class="lvl-2"><p>主要有6个阶段：<br><img src="https://s1.ax1x.com/2020/10/20/0zHKbD.png" alt="linux03.png"></p></li></ul><h2 id="4-VM虚拟机相关知识">4.VM虚拟机相关知识</h2><ul class="lvl-0"><li class="lvl-2"><p>桥接模式：Linux系统可以与其他系统通信，但会占用真实网络中的ip地址，而一个网段的ip地址是有限的，所以一般不使用该模式</p></li><li class="lvl-2"><p>NAT 模式：该模式会在真实主机上新建一个ip地址，然后在这个ip地址下划分子网给虚拟机中的Linux，这样子外部主机无法访问到Linux，但Linux可以使用主机真实ip代理访问其他主机</p></li><li class="lvl-2"><p>装Linux系统时，自定义分区为：标准分区/boot ：200M左右交换分区swap ：该分区没有挂载点，一般为物理内存的1.5-2倍之间根分区/ ：剩余所有空间</p></li><li class="lvl-2"><p>共享文件夹会默认放在 centos 下的 <code>/mnt/hgfs</code></p></li></ul><h2 id="5-目录结构">5.目录结构</h2><ul class="lvl-0"><li class="lvl-2"><p>在linux中，一切都是文件</p></li><li class="lvl-2"><p>/ ：根目录<br>/bin ：存放命令<br>/boot ：存放启动linux时的核心文件<br>/dev ：管理设备<br>/etc ：存放配置文件<br>/home ：普通用户对应的文件<br>/lib ：存放库文件<br>/lost+found ：系统非法关机后存放文件<br>/media ：外接设备<br>/mnt ：为了让用户临时挂载别的文件系统<br>/opt ：放置需要安装的软件<br>/proc ：有关内核的文件<br>/sbin ：存放系统管理员使用的系统管理程序<br>/selinux ：安全目录，类似于windows下的360<br>/srv ：存放服务启动后需要提取的数据<br>/sys ：linux2.6内核以后会生成该文件夹<br>/tmp ：存放临时文件<br>/usr ：用户安装的文件和应用程序<br>/var ：存放日志</p></li></ul><h2 id="6-远程登录">6.远程登录</h2><ul class="lvl-0"><li class="lvl-2"><p>使用 Xshell 和 Xftp 远程登录 Linux 系统</p></li><li class="lvl-2"><p>实现远程登录时，需要 Linux 系统开启一个 sshd 的服务，该服务会监听22号端口。该服务一般是默认打开的，检查是否打开需要在终端输入 <code>setup</code> -&gt; 系统服务 -&gt; sshd -&gt; *号代表已经打开</p></li><li class="lvl-2"><p><font color="#F00">注意：端口开的越多，安全性就越弱</font></p></li></ul><h2 id="7-用户管理">7.用户管理</h2><ul class="lvl-0"><li class="lvl-2"><p>Linux的用户至少要属于一个组</p></li></ul><h3 id="1-添加用户">(1).添加用户</h3><ul class="lvl-0"><li class="lvl-2"><p><code>useradd [选项] 用户名</code> ：会自动创建和用户同名的家目录</p></li><li class="lvl-2"><p><code>useradd -d 指定目录 用户名</code> ：创建用户并指定家目录</p></li><li class="lvl-2"><p><code>useradd -g 用户组 用户名</code> ：创建用户并指定用户组（该组存在才可以指定）</p></li></ul><h3 id="2-添加密码">(2).添加密码</h3><ul class="lvl-0"><li class="lvl-2"><p><code>passwd 用户名</code> ：为该用户添加密码</p></li></ul><h3 id="3-删除用户">(3).删除用户</h3><ul class="lvl-0"><li class="lvl-2"><p><code>userdel 用户名</code> ：删除用户但保留家目录</p></li><li class="lvl-2"><p><code>userdel -r 用户名</code> ：删除用户及家目录</p></li></ul><h3 id="4-查询用户">(4).查询用户</h3><ul class="lvl-0"><li class="lvl-2"><p><code>id</code></p></li></ul><h3 id="5-切换用户">(5).切换用户</h3><ul class="lvl-0"><li class="lvl-2"><p><code>su - 用户名</code></p></li><li class="lvl-2"><p>高权限用户切换到低权限用户时，不需要密码，但权限会降低，使用 <code>exit</code> 可以退出当前用户退回到原来用户</p></li></ul><h3 id="6-相关文件">(6).相关文件</h3><ul class="lvl-0"><li class="lvl-2"><p><code>/etc/passwd</code> ：用户信息文件（用户名：口令：用户标识号：组标识号：注释性描述：主目录：登录Shell）</p></li><li class="lvl-2"><p><code>/etc/shadow</code> ：用户密码文件（登录名：加密口令：最后一次修改时间：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志）</p></li><li class="lvl-2"><p><code>/etc/group</code> ：用户组配置文件（组名：口令：组标识号：组内用户列表）</p></li></ul><h2 id="8-用户组">8.用户组</h2><h3 id="1-增加组">(1).增加组</h3><ul class="lvl-0"><li class="lvl-2"><p><code>groupadd 组名</code></p></li></ul><h3 id="2-删除组">(2).删除组</h3><ul class="lvl-0"><li class="lvl-2"><p><code>groudel 组名</code></p></li></ul><h3 id="3-修改组">(3).修改组</h3><ul class="lvl-0"><li class="lvl-2"><p><code>usermod -g 用户组 用户名</code></p></li></ul><h1>二、指令部分</h1><h2 id="1-帮助类">1.帮助类</h2><h3 id="1-man">(1).man</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：manual（手册），包含了linux中全部命令手册</p></li><li class="lvl-2"><p><code>man 命令</code> ：退出按q即可</p></li></ul><h3 id="2-help">(2).help</h3><ul class="lvl-0"><li class="lvl-2"><p>语法：<code>help 指令</code></p></li></ul><h2 id="2-压缩类">2.压缩类</h2><h3 id="1-gzip-gunzip">(1).gzip/gunzip</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：前者为压缩文件，后者为解压缩文件</p></li><li class="lvl-2"><p><code>gzip 文件名</code> ：会直接删除源文件</p></li></ul><h3 id="2-zip-unzip">(2).zip/unzip</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：前者为压缩文件，后者为解压缩文件</p></li><li class="lvl-2"><p><code>zip 选项 文件名 存放路径</code> ：选项如下：<br>-r：递归压缩</p></li><li class="lvl-2"><p><code>unzip 选项 存放目录 压缩文件名</code> ：选项如下：<br>-d：指定解压后文件的存放目录</p></li></ul><h3 id="3-tar">(3).tar</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：打包指令，文件后缀为 <code>tar.gz</code></p></li><li class="lvl-2"><p><code>tar 选项 打包后的文件名 打包的内容</code> ，选项如下：<br>-c：产生.tar打包文件<br>-v：显示详细信息<br>-f：指定压缩后的文件名<br>-z：打包同时压缩<br>-x：解包.tar文件</p></li><li class="lvl-2"><p>zcvf为压缩，zxvf为解压</p></li><li class="lvl-2"><p>注意：指定解压到某个目录，需要在目录前面使用 -C 才可以成功</p></li></ul><h2 id="3-用户类">3.用户类</h2><h3 id="1-id">(1).id</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看一个用户的基本信息（用户，用户组，附加组id）</p></li><li class="lvl-2"><p><code>id</code> ：默认显示当前执行命令的用户的基本信息</p></li><li class="lvl-2"><p><code>id 用户名</code> ：显示指定用户的基本信息</p></li></ul><h4 id="！如何验证信息是否正确">！如何验证信息是否正确</h4><ul class="lvl-0"><li class="lvl-2"><p>验证用户信息通过文件 <code>/etc/passwd</code></p></li><li class="lvl-2"><p>验证用户组信息通过文件 <code>/etc/group</code></p></li></ul><h3 id="2-whoami">(2).whoami</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：显示当前登陆的用户名，一般用于 shell 脚本，来获取当前登陆的用户名方便记录日志</p></li><li class="lvl-2"><p><code>whoami</code></p></li></ul><h2 id="4-系统类">4.系统类</h2><h3 id="1-logout">(1).logout</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：注销当前用户，减少服务器开销</p></li><li class="lvl-2"><p><code>logout</code></p></li><li class="lvl-2"><p><font color="#F00">注意：该命令在图形化界面无效，只在命令行模式下有效</font></p></li></ul><h3 id="2-reboot">(2).reboot</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：重新启动计算机</p></li><li class="lvl-2"><p><code>reboot</code></p></li><li class="lvl-2"><p><code>reboot -w</code> ：模拟重启但是不重启（只写关机与开机的日志信息）</p></li><li class="lvl-2"><p><code>shutdown -r now</code> ：立即重启</p></li></ul><h3 id="3-shutdown">(3).shutdown</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：关机（慎用）</p></li><li class="lvl-2"><p><code>shutdown -h now</code> ：立即关机</p></li><li class="lvl-2"><p><code>shutdown -h now &quot;提示文字&quot;</code> ：立即关机并带有提示性文字</p></li><li class="lvl-2"><p><code>shutdown -h 1</code> ：1分钟后关机</p></li><li class="lvl-2"><p><code>shutdown -h 12:00</code> ：12:00关机</p></li><li class="lvl-2"><p><code>shutdown -h 12:00 &quot;提示文字&quot;</code> ：12:00关机并带有提示性文字</p></li><li class="lvl-2"><p><font color="#F00">注意：在centos 7之前，取消关机计划需要使用 <code>ctrl+c</code> 命令；在centos7 及之后可以使用 <code>shutdown -c</code> 命令</font></p></li></ul><h3 id="4-关机">(4).关机</h3><ul class="lvl-0"><li class="lvl-2"><p><code>shutdown -h now</code> ：正常关机</p></li><li class="lvl-2"><p><code>halt</code> ：关闭内存</p></li><li class="lvl-2"><p><code>poweroff</code> ：关闭电源</p></li><li class="lvl-2"><p><code>init 0</code> ：以后版本不一定能用</p></li></ul><h3 id="5-root">(5).root</h3><ul class="lvl-0"><li class="lvl-2"><p><code>sudo passwd root</code> ：设置密码</p></li><li class="lvl-2"><p><code>su</code> ：切换root用户</p></li></ul><h3 id="6-clear">(6).clear</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：用来清除终端中已经存在的命令和结果，快捷键为ctrl+L</p></li><li class="lvl-2"><p><code>clear</code></p></li></ul><h3 id="7-hostname">(7).hostname</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：操作服务器的主机名（读取，设置），这里设置的主机名是临时的，所以一般不使用该命令来设置主机名，只用作读取</p></li><li class="lvl-2"><p><code>hostname</code> ：输出完整的主机名</p></li><li class="lvl-2"><p><code>hostname -f</code> ：输出当前主机名的FQDN（全限定域名）</p></li></ul><h3 id="8-uptime">(8).uptime</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：输出计算机的持续在线时间</p></li><li class="lvl-2"><p><code>uptime</code></p></li></ul><h3 id="9-uname">(9).uname</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：获取操作系统的相关信息</p></li><li class="lvl-2"><p><code>uname</code> ：获取操作系统的类型</p></li><li class="lvl-2"><p><code>uname -a</code> ：获取全部的系统信息（类型、全部的主机名、内核版本、发布时间、开源计划）</p></li></ul><h3 id="10-sync">(10).sync</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：把内存的数据同步到磁盘</p></li><li class="lvl-2"><p><code>sync</code></p></li><li class="lvl-2"><p><font color="#F00">注意：当我们关机或者重启时，都应该执行以下这个命令，防止数据丢失</font></p></li></ul><h3 id="11-free">(11).free</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看内存使用情况，主要看第二行内容，swap 用于临时内存</p></li><li class="lvl-2"><p><code>free</code> ：以默认单位进行查看</p></li><li class="lvl-2"><p><code>free -m</code> ：以 mb 为单位进行查看</p></li></ul><h2 id="5-运行级别类">5.运行级别类</h2><ul class="lvl-0"><li class="lvl-2"><p>开机的流程：开机 - BIOS - /boot - init进程1 - 运行级别 - 运行级对应的服务</p></li><li class="lvl-2"><p>系统的运行级别配置文件在 <code>/etc/inittab</code> 目录下</p></li><li class="lvl-2"><p>运行级别有如下：<br>0：关机<br>1：单用户<br>2：多用户状态没有网络服务<br>3：多用户状态有网络服务<br>4：系统未使用保留给用户<br>5：图形界面<br>6：系统重启</p></li><li class="lvl-2"><p>常用运行级别是3和5</p></li><li class="lvl-2"><p>切换到指定运行级别的指令：<code>init [012356]</code></p></li><li class="lvl-2"><p>查看或修改默认级别：<code>vi /etc/init.d</code></p></li></ul><h3 id="font-color-F00-！引申：面试题之怎样找回root密码-font"><font color="#F00">！引申：面试题之怎样找回root密码</font></h3><ul class="lvl-0"><li class="lvl-2"><p>在开机进入引导时，按下回车键，进入一个代码界面，按e键进入后选择第二行（编辑内核）然后再按e键</p></li><li class="lvl-2"><p>输入1按回车键再输入b进入单用户模式</p></li><li class="lvl-2"><p>使用 <code>passwd</code> 指令进行修改密码</p></li></ul><h2 id="6-文件目录类">6.文件目录类</h2><h3 id="0-vi-vim">(0).vi &amp; vim</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：文本编辑器</p></li><li class="lvl-2"><p>三种常见模式：正常模式：使用命令进入后的界面插入模式（编辑模式）：可以输入内容命令行模式：可以输入相关的命令</p></li><li class="lvl-2"><p><code>vim 文件的路径</code> ：进入编辑器</p></li></ul><h4 id="！常用命令：">！常用命令：</h4><ul class="lvl-0"><li class="lvl-2"><p><code>i、I、o、O、a、A、r、R</code> ：进入编辑模式</p></li><li class="lvl-2"><p><code>Esc</code> ：退出编辑模式或命令模式</p></li><li class="lvl-2"><p><code>:或/</code> ：进入命令行模式</p></li><li class="lvl-2"><p><code>q</code> ：没有修改时直接退出</p></li><li class="lvl-2"><p><code>wq</code> ：保存并退出</p></li><li class="lvl-2"><p><code>!q</code> ：强制退出</p></li></ul><h4 id="！快捷键">！快捷键</h4><ul class="lvl-0"><li class="lvl-2"><p><code>p</code> ：粘贴</p></li><li class="lvl-2"><p><code>u</code> ：撤销</p></li><li class="lvl-2"><p><code>yy</code> ：拷贝当前行 <code>5yy</code> ：拷贝当前行向下的5行</p></li><li class="lvl-2"><p><code>dd</code> ：删除当前行 <code>5dd</code> ：删除当前行向下的5行</p></li><li class="lvl-2"><p><code>G</code> ：跳转到文档的最</p></li><li class="lvl-2"><p>末行 <code>gg</code> ：跳转到文档的首行</p></li><li class="lvl-2"><p><code>/关键字</code> ：命令行下输入按回车可以查找，输入n就是查找下一个</p></li><li class="lvl-2"><p><code>:set nu</code> ：命令行下输入可以设置文件的行号 <code>set nonu</code> ：取消文件的行号</p></li><li class="lvl-2"><p>跳转到某一行：先设置行号，然后在正常模式下输入需要跳转的行号，然后按 <code>shift+g</code></p></li><li class="lvl-2"><p><strong>其余快捷键可以查看<a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.runoob.com/linux/linux-vim.html">菜鸟教程</a>中的内容</strong></p></li></ul><h4 id="！注释">！注释</h4><ul class="lvl-0"><li class="lvl-2"><p>单行注释</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#这个是单行注释</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>多行注释</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;!</span><br><span class="line">A=100</span><br><span class="line">echo $A</span><br><span class="line">!</span><br></pre></td></tr></table></figure><h3 id="1-ls">(1).ls</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：列出所有文件和文件夹</p></li><li class="lvl-2"><p><code>ls</code></p></li><li class="lvl-2"><p><code>ls 路径</code></p></li><li class="lvl-2"><p><code>ls 选项 路径</code><br>ls -l 路径：以详细列表显示所有文件<br>ls -la 路径：以详细列表显示所有文件和隐藏文件<br>ls -lh 路径：以合适的大小显示所有文件</p></li></ul><h3 id="2-pwd">(2).pwd</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：打印当前工作目录</p></li><li class="lvl-2"><p><code>pwd</code></p></li></ul><h3 id="3-cd">(3).cd</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：改变或切换当前工作目录</p></li><li class="lvl-2"><p><code>cd 路径</code></p></li><li class="lvl-2"><p><code>cd ~</code> ：切换到当前用户的家目录</p></li><li class="lvl-2"><p><code>cd ..</code> ：切换到当前用户的上一级目录</p></li></ul><h3 id="4-mkdir">(4).mkdir</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：创建目录</p></li><li class="lvl-2"><p><code>mkdir [选项] 路径</code></p></li><li class="lvl-2"><p><code>mkdir -p 路径</code> ：进行多层目录的创建</p></li><li class="lvl-2"><p><code>mkdir 路径1 路径2 路径3</code> ：同时创建多个目录</p></li></ul><h3 id="5-touch">(5).touch</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：创建文件</p></li><li class="lvl-2"><p><code>touch 路径</code> ：同上</p></li><li class="lvl-2"><p><code>touch 路径1 路径2 路径3</code> ：同上</p></li></ul><h3 id="6-cp">(6).cp</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：复制文件或文件夹</p></li><li class="lvl-2"><p><code>cp 复制前的路径 复制后的路径</code> ：复制文件</p></li><li class="lvl-2"><p><code>cp 复制前的路径 复制后的路径 -r</code> ：复制文件夹包含文件，-r表示递归</p></li><li class="lvl-2"><p><code>\cp -r 路径 路径</code> ：当目标目录下有相同文件，可以强制覆盖</p></li></ul><h3 id="7-mv">(7).mv</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：移动、剪切文档到新的位置</p></li><li class="lvl-2"><p><code>mv 旧路径/文件名 新路径/原文件名</code> ：移动但不重命名</p></li><li class="lvl-2"><p><code>mv 旧路径/文件名 新路径/新文件名</code> ：移动并重命名</p></li><li class="lvl-2"><p><code>mv 旧路径/文件夹 新路径/原文件夹</code> ：移动但不重命名，移动文件夹无需写-r</p></li><li class="lvl-2"><p><code>mv 旧路径/文件夹 新路径/新文件夹</code> ：移动并重命名，移动文件夹无需写-r</p></li></ul><h3 id="8-rm">(8).rm</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：删除文档</p></li><li class="lvl-2"><p><code>rm 选项 需要移除的路径</code><br><code>rm -f 路径</code> ：强制删除，不提示<br><code>rm -rf 路径</code> ：强制递归删除非空目录，不提示<br><code>rm -f linux*</code> ：删除以linux开头的文件，星号为通配符</p></li><li class="lvl-2"><p><code>rm 路径1 路径2 路径3</code></p></li></ul><h3 id="9-cat">(9).cat</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：打开文件（只能浏览）或者合并文件</p></li><li class="lvl-2"><p><code>cat 文件的路径</code> ：直接打开一个文件，为了浏览方便，一般会在后面使用管道连接 —— <code>| more</code></p></li><li class="lvl-2"><p><code>cat 待合并的文件路径1 待合并的路径2 &gt; 合并之后的文件路径</code> ：合并文件</p></li></ul><h3 id="10-more">(10).more</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：以全屏的方式按页显示文本文件的内容</p></li><li class="lvl-2"><p><code>more 要查看的文件</code></p></li><li class="lvl-2"><p>enter：一行一行的翻空格：一页一页的翻<br>Ctrl+b：上一页<br>Ctrl+f：下一页<br>q：退出</p></li></ul><h3 id="11-less">(11).less</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：分屏查看文件内容，以较少的内容输出</p></li><li class="lvl-2"><p><code>less 要查看的文件</code></p></li><li class="lvl-2"><p>enter：一行一行的翻空格：一页一页的翻<br>Ctrl+b：上一页<br>Ctrl+f：下一页<br>q：退出</p></li></ul><h3 id="12">(12).&gt; &amp; &gt;&gt;</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：可以重定向文件或者新建文件</p></li><li class="lvl-2"><p><code>&gt;</code> ：输出重定向，覆盖输出，会覆盖原先文件内容</p></li><li class="lvl-2"><p><code>&gt;&gt;</code> ：追加，追加输出，不会覆盖，会在文件末尾继续添加</p></li><li class="lvl-2"><p>基本语法：<code>ls -l &gt; a.txt</code>：将前面的输出内容覆盖写入到a.txt文件<code>cat /etc/profile &gt;&gt; a.txt</code>：将固定文件内容追加输出到a.txt<br><code>echo &quot;Hello,world!&quot; &gt; a.txt</code>：将固定语句覆盖写入到a.txt</p></li></ul><h3 id="13-echo">(13).echo</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：输出内容到控制台</p></li><li class="lvl-2"><p><code>echo $PATH</code> ：输出环境变量到控制台</p></li><li class="lvl-2"><p><code>echo &quot;Hello&quot;</code></p></li></ul><h3 id="14-head">(14).head</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看一个文件的前n行</p></li><li class="lvl-2"><p><code>head 需要查看文件的路径</code> ：默认显示前10行</p></li><li class="lvl-2"><p><code>head -n 需要查看文件的路径</code> ：查看一个文件的前n行</p></li></ul><h3 id="15-tail">(15).tail</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看文件末n行或者动态变化</p></li><li class="lvl-2"><p><code>tail 需要查看文件的路径</code> ：默认显示末10行</p></li><li class="lvl-2"><p><code>tail -n 需要查看文件的路径</code> ：查看一个文件的末n行</p></li><li class="lvl-2"><p><code>tail -f 文件的路径</code> ：查看文件动态变化，<font color="#F00">常用！</font></p></li></ul><h3 id="16-ln">(16).ln</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：软链接指令，主要存放了链接其他文件的路径</p></li><li class="lvl-2"><p><code>ln -s 原文件或目录 软链接名字</code></p></li><li class="lvl-2"><p><code>rm -rf 软链接名字</code>：删除软链接，后面加斜杠会删除原文件内容！</p></li></ul><h3 id="17-history">(17).history</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看已经执行过的历史命令，也可以执行历史命令</p></li><li class="lvl-2"><p><code>history</code></p></li><li class="lvl-2"><p><code>!数字</code> ：直接执行历史编号的命令</p></li></ul><h3 id="18-wc">(18).wc</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：统计文件内容信息（行数、单词数、字节数）</p></li><li class="lvl-2"><p><code>wc -lwc 需要统计的文件路径</code></p></li></ul><h3 id="19-du">(19).du</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看目录的真实大小</p></li><li class="lvl-2"><p><code>du -sh 路径</code> ：-s表示只显示汇总的大小，-h表示以较高可读性的形式进行显示</p></li></ul><h2 id="7-时间日期类">7.时间日期类</h2><h3 id="1-date">(1).date</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：进行时间日期等相应的读取和设置</p></li><li class="lvl-2"><p><code>date</code> ：显示当前时间</p></li><li class="lvl-2"><p><code>date +%F</code> 与 <code>date &quot;+%Y-%m-%d&quot;</code>：显示年月日，如：2019-01-02</p></li><li class="lvl-2"><p><code>date &quot;+%F %T&quot;</code> 与 <code>date &quot;+%Y-%m-%d %H:%M:%S&quot;</code> ：显示年月日时分秒，如：2018-12-28 23:40:16（引号表示让年月日与时分秒成为不可分割的整体）</p></li><li class="lvl-2"><p><code>data -d &quot;-1 day&quot; &quot;+%Y-%m-%d %H:%M:%S&quot;</code> ：获取之前或者之后（+1）的某个时间（年月日）</p></li><li class="lvl-2"><p><code>date -s 字符串时间</code> ：设置系统当前时间，<font color="#F00"><strong>！重点！</strong></font></p></li></ul><h3 id="2-cal">(2).cal</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：进行日历相应的操作</p></li><li class="lvl-2"><p><code>cal -1</code> ：直接输出当前月份的日历</p></li><li class="lvl-2"><p><code>cal -3</code> ：输出上一个月，当月和下一个月的日历</p></li><li class="lvl-2"><p><code>cal -y 2018</code> ：输出一年的日历</p></li></ul><h2 id="8-搜索查找类">8.搜索查找类</h2><h3 id="1-find">(1).find</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：用于查找文件，从指定目录向下递归地遍历查找（参数有55个）</p></li><li class="lvl-2"><p><code>find 路径范围 选项 选项的值</code> ，选项有：<br>-name ：按照文档名称进行搜索（支持模糊搜索）<br>-user ：按照文档用户名进行搜索<br>-size ：按照文档大小进行搜索，后面跟+20M（大于20M）<br>-type ：按照文档的类型进行搜索（-为文件，这里使用f来替换；d表示文件夹）</p></li><li class="lvl-2"><p><font color="#F00">注意：尽量不要在根目录下进行查找</font></p></li></ul><h3 id="2-locate">(2).locate</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：可以快速定位文件路径，其无需遍历整个文件系统，查询速度比较快</p></li><li class="lvl-2"><p>由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建其的数据库</p></li><li class="lvl-2"><p><code>locate 文件名</code></p></li></ul><h3 id="3-grep-与">(3).grep 与 |</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：管道一般可以用于 “过滤，特殊，扩展处理”</p></li><li class="lvl-2"><p>注意：不能单独使用，必须配合其他命令使用，主要起辅助作用</p></li><li class="lvl-2"><p><code>grep 选项 查找内容 源文件</code> ：选项如下：<br>-n：显示匹配行及行号<br>-i：忽略字母大小写</p></li><li class="lvl-2"><p><code>ls / | grep y</code> ：过滤功能</p></li><li class="lvl-2"><p><code>ls / l wc -l</code> ：统计某个目录下的文档总个数</p></li></ul><h2 id="9-工作常用类">9.工作常用类</h2><ul class="lvl-0"><li class="lvl-2"><p>统计/home文件夹下文件的个数：<code>ls -l /home | grep &quot;^-&quot; | wc -l</code></p></li><li class="lvl-2"><p>统计/home文件夹下目录的个数：<code>ls -l /home | grep &quot;^d&quot; | wc -l</code></p></li><li class="lvl-2"><p>统计/home文件夹下文件的个数，包括子文件里的：<code>ls -lR /home | grep &quot;^-&quot; | wc -l</code></p></li><li class="lvl-2"><p>统计文件夹下目录的个数，包括子文件夹里的：<code>ls -lR /home | grep &quot;^d&quot; | wc -l</code></p></li><li class="lvl-2"><p>以树状显示目录结构：<code>tree</code> （如果没有该命令可以使用yum进行安装）</p></li></ul><h1>三、实操部分</h1><h2 id="1-组管理和权限管理">1.组管理和权限管理</h2><h3 id="1-查看文件所有者-所在组">(1).查看文件所有者/所在组</h3><ul class="lvl-0"><li class="lvl-2"><p><code>ls -ahl</code></p></li></ul><h3 id="2-修改文件所有者">(2).修改文件所有者</h3><ul class="lvl-0"><li class="lvl-2"><p><code>chown 用户名 文件名</code> ：改变文件的所有者</p></li><li class="lvl-2"><p><code>chown newowner:newgroup 文件名</code> ：改变文件的所有者和所有组</p></li><li class="lvl-2"><p><code>chown -R tom kkk/</code> ：将 kkk 目录下的所有的文件（子目录及其下边的文件），递归的将所有者改成tom</p></li></ul><h3 id="3-修改文件所在组">(3).修改文件所在组</h3><ul class="lvl-0"><li class="lvl-2"><p><code>chgrp 组名 文件名</code></p></li></ul><h3 id="4-修改用户所在组">(4).修改用户所在组</h3><ul class="lvl-0"><li class="lvl-2"><p><code>usermod -g 组名 用户名</code></p></li><li class="lvl-2"><p><code>usermod -d 目录名 用户名</code> ：改变该用户登录的初始目录</p></li></ul><h3 id="5-权限介绍">(5).权限介绍</h3><ul class="lvl-0"><li class="lvl-2"><p>使用 <code>ls -l</code> 可以查看权限</p></li><li class="lvl-2"><p>文件的类型：<code>-</code> 为普通文件、<code>d</code> 为目录、<code>l</code> 为软链接、<code>c</code> 为字符设备、<code>b</code> 为块文件</p></li><li class="lvl-2"><p>文件所有者（所在组、其他组）权限：<code>r</code> 为读权限（4）、<code>w</code> 为写权限（2）、<code>x</code> 为执行权限（1） 、<code>-</code> 为没有权限</p></li></ul><h3 id="6-修改权限">(6).修改权限</h3><ul class="lvl-0"><li class="lvl-2"><p>u：所有者；g：所有组；o：其他人；a：所有人</p></li><li class="lvl-2"><p><code>chmod u=rwx,g=rw,o=x 文件目录名</code> 或 <code>chmod 751 文件目录名</code></p></li><li class="lvl-2"><p><code>chmod 0+w 文件目录名</code></p></li><li class="lvl-2"><p><code>chmod a-x 文件目录名</code></p></li></ul><h2 id="2-crond任务调度">2.crond任务调度</h2><h3 id="1-基础">(1).基础</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：crontab 进行定时任务的设置</p></li><li class="lvl-2"><p><code>crontab 选项</code> ，选项如下：<br>-e：编辑 crontab 定时任务<br>-l：查询 crontab 任务<br>-r：删除当前用户所有的 crontab 任务</p></li><li class="lvl-2"><p><code>service cround restart</code> ：重启任务调度</p></li><li class="lvl-2"><p>简单的任务，可以不用写脚本，直接在 crontab 中直接编写即可；复杂任务，需要使用 shell 脚本编写</p></li></ul><h3 id="2-步骤">(2).步骤</h3><ol><li class="lvl-3"><p>crontab -e</p></li><li class="lvl-3"><p>*/1 * * * * ls -l /etc &gt;&gt; /tmp/to.txt</p></li><li class="lvl-3"><p>当程序退出后就生效</p></li></ol><h3 id="3-占位符说明">(3).占位符说明</h3><ul class="lvl-0"><li class="lvl-2"><p>如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHk59.png" alt="linux06.png"></p></li></ul><h3 id="4-特殊符号说明">(4).特殊符号说明</h3><ul class="lvl-0"><li class="lvl-2"><p>如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHECR.png" alt="linux07.png"></p></li></ul><h3 id="5-特定时间执行任务案例">(5).特定时间执行任务案例</h3><ul class="lvl-0"><li class="lvl-2"><p>如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHV81.png" alt="linux08.png"></p></li></ul><h2 id="3-磁盘管理">3.磁盘管理</h2><h3 id="1-分区">(1).分区</h3><ul class="lvl-0"><li class="lvl-2"><p>mbr分区：最多支持四个主分区系统只能装在主分区扩展分区要占一个主分区<br>mbr最大只支持2TB，但拥有最好的兼容性</p></li><li class="lvl-2"><p>gpt分区：支持无限多个主分区最大支持18EB的大容量<br>win7 64位以后支持gpt</p></li><li class="lvl-2"><p><font color="#F00">Linux中无论有几个分区，分给哪一目录使用，它归根结底就只有一个根目录，一个独立且唯一的文件结构，Linux中每个分区都是用来组成整个文件系统的一部分</font></p></li><li class="lvl-2"><p>Linux采用了一种“载入”的处理方法，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来<br>mount：挂载<br>umount：卸载</p></li><li class="lvl-2"><p>使用 <code>lsblk</code> （老师不离开首字母）命令查看系统的分区和挂载的情况（加-f选项也可以）</p></li></ul><h3 id="2-硬盘">(2).硬盘</h3><ul class="lvl-0"><li class="lvl-2"><p>Linux硬盘分为 IDE 硬盘和 SCSI 硬盘，目前基本上是 SCSI 硬盘</p></li><li class="lvl-2"><p>对于 IDE 硬盘，驱动器标识符为 <code>hdx~</code><br>hd：指该硬盘为 IDE 硬盘<br>x：为盘号（a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘）<br>~：为分区，1-4表示为主分区或扩展分区，从5开始表示逻辑分区</p></li><li class="lvl-2"><p>对于 SCSI 硬盘，驱动器标识符为 <code>sdx~</code><br>sd：指该硬盘为 SCSI 硬盘<br>x：为盘号（a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘）<br>~：为分区，1-4表示为主分区或扩展分区，从5开始表示逻辑分区</p></li></ul><h3 id="3-挂载案例——增加一块硬盘">(3).挂载案例——增加一块硬盘</h3><h4 id="1-虚拟机添加硬盘">1).虚拟机添加硬盘</h4><ul class="lvl-0"><li class="lvl-2"><p>在虚拟机菜单中，选择<strong>设置</strong>，然后添加硬盘，下一步，修改磁盘大小，重启系统</p></li></ul><h4 id="2-分区">2).分区</h4><ul class="lvl-0"><li class="lvl-2"><p>使用分区命令 <code>fdisk /dev/sdb</code> ，分区时有如下命令：<br>m：显示命令列表<br>p：显示磁盘分区，同 <code>fdisk -l</code><br>n：新增分区<br>d：删除分区<br>w：写入并退出</p></li><li class="lvl-2"><p>开始分区后输入n来新增分区，然后选择p，分区类型为主分区即1。两次回车默认剩余全部空间。最后输入w写入分区并退出，若不保存退出输入q</p></li></ul><h4 id="3-格式化">3).格式化</h4><ul class="lvl-0"><li class="lvl-2"><p>使用 <code>mkfs -t ext4 /dev/sdb1</code> 命令来执行，其中ext4为分区类型</p></li><li class="lvl-2"><p><font color="#F00">注意：这里的分区类型可能需要视不同版本或不同系统而定</font></p></li></ul><h4 id="4-挂载">4).挂载</h4><ul class="lvl-0"><li class="lvl-2"><p>挂载可以使一个分区与一个目录联系起来</p></li><li class="lvl-2"><p>命令为：<code>mount 设备名称 挂载目录</code>。例如：<code>mount /dev/sdb1 /home/newdisk</code></p></li><li class="lvl-2"><p>卸载命令为：<code>umount 设备名称/挂载目录</code></p></li><li class="lvl-2"><p><font color="#F00">注意：这部分的挂载在系统重启以后会失效，所以需要使用下一步永久挂载</font></p></li></ul><h4 id="5-设置可以自动挂载">5).设置可以自动挂载</h4><ul class="lvl-0"><li class="lvl-2"><p>修改 <code>/etc/fstab</code> 文件可实现挂载</p></li><li class="lvl-2"><p>将最上边有UUID部分的复制一行以后进行修改，第一部分修改为设备名称，第二部分为挂载目录，第三部分为分区类型，第四部分为默认，第五部分按00即可</p></li><li class="lvl-2"><p>添加完成后，执行 <code>mount -a</code> 即刻生效</p></li></ul><h3 id="4-df">(4).df</h3><ul class="lvl-0"><li class="lvl-2"><p><code>df</code> ：直接查看磁盘空间</p></li><li class="lvl-2"><p><code>df -h</code> ：查询系统整体磁盘使用情况</p></li><li class="lvl-2"><p><code>du -ach --max-depth=1 /目录</code> ：查询指定目录的磁盘占用情况，默认为当前目录<br>-s：指定目录占用大小汇总<br>-h：带计量单位<br>-a：含文件<br>-c：列出明细的同时，增加汇总值<br>–max-depth=1：子目录深度</p></li></ul><h2 id="4-网络配置与管理">4.网络配置与管理</h2><h3 id="1-查看网络IP和网关">(1).查看网络IP和网关</h3><ul class="lvl-0"><li class="lvl-2"><p>查看虚拟网络编辑器：虚拟机编辑菜单-虚拟网络编辑器-VMnet8</p></li><li class="lvl-2"><p>在这里还可以修改虚拟机的ip地址</p></li><li class="lvl-2"><p>查看网关：虚拟机编辑菜单-虚拟网络编辑器-VMnet8-NAT设置</p></li></ul><h3 id="2-自动获取IP">(2).自动获取IP</h3><ul class="lvl-0"><li class="lvl-2"><p>Linux系统中：系统-首选项-网络连接-点击相应网卡-编辑-自动连接</p></li><li class="lvl-2"><p>然后重启一下即可</p></li><li class="lvl-2"><p><font color="#F00">缺点：每次自动获取的IP地址可能不一样，服务器上不适用</font></p></li></ul><h3 id="3-修改配置文件指定IP">(3).修改配置文件指定IP</h3><ul class="lvl-0"><li class="lvl-2"><p>编辑 <code>/etc/sysconfig/network-scripts/ifcfg-eth0</code> 文件，对于最后是网关文件可能不一定是0</p></li><li class="lvl-2"><p>设置为静态获取ip，并配置IP、网关、DNS，如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHZgx.png" alt="linux09.png"></p></li><li class="lvl-2"><p>重启网络服务：<code>service network restart</code></p></li></ul><h3 id="4-netstat">(4).netstat</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看网络的连接状态</p></li><li class="lvl-2"><p><code>netstat -tnlp</code> ：<br>-t表示只列出tcp协议的连接<br>-n表示将字母组合转化成ip地址，将协议转换成端口号<br>-l表示过滤出&quot;state&quot;列中其值为 LISTEN 的连接<br>-p表示显示发起连接的pid和进程名称</p></li></ul><h3 id="5-ifconfig">(5).ifconfig</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：操作网卡的相关的指令</p></li><li class="lvl-2"><p><code>ifconfig</code> ；获取网卡信息</p></li></ul><h2 id="5-进程管理">5.进程管理</h2><h3 id="1-基础-2">(1).基础</h3><ul class="lvl-0"><li class="lvl-2"><p>在 Linux 中，每个执行的程序都称为一个进程，且分配一个 ID 号</p></li><li class="lvl-2"><p>一个进程 ——&gt; 一个父进程一个父进程 ——&gt; 多个子进程</p></li><li class="lvl-2"><p>进程分为前台进程和后台进程（又称守护进程）</p></li></ul><h3 id="2-ps">(2).ps</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看服务器的进程信息</p></li><li class="lvl-2"><p>注意：使用该命令至少会出现一个进程，因为自身命令也算一次进程</p></li></ul><h4 id="！命令1：">！命令1：</h4><ul class="lvl-0"><li class="lvl-2"><p><code>ps -aux</code> ，选项如下：<br>-a：显示当前终端的所有进程信息<br>-u：以用户的格式显示进程信息<br>-x：显示后台进程运行的参数</p></li><li class="lvl-2"><p>为了查看方便，这里建议与 more 指令一起使用，即 <code>ps -aux | more</code></p></li><li class="lvl-2"><p>关于每一列的含义，如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHev6.png" alt="linux10.png"></p></li></ul><h4 id="！命令2：">！命令2：</h4><ul class="lvl-0"><li class="lvl-2"><p><code>ps -ef</code> ：主要用来查看父进程<br>-e：列出全部的进程<br>-f：显示全部的列（显示全字段）</p></li><li class="lvl-2"><p>进程的主要参数如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHiE4.png" alt="linux04.png"></p></li><li class="lvl-2"><p><font color="#F00">注意：如果一个程序的父级进程找不到，则为僵尸进程（STAT为Z），需要进行处理</font></p></li></ul><h4 id="！进阶（100-使用）">！进阶（100%使用）</h4><ul class="lvl-0"><li class="lvl-2"><p>基础方法会查看所有的进程，然后在实际中并不需要，所以可以用管道进行过滤</p></li><li class="lvl-2"><p><code>ps -ef | grep 进程名字</code> 与 <code>ps -aux | grep 进程名字</code></p></li></ul><h3 id="3-kill">(3).kill</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：用于杀死进程（当遇到僵尸进程或者需要关闭进程的时候）</p></li><li class="lvl-2"><p><code>kill 选项 进程id（pid）</code> ：通过进程号杀死进程常用选项：-9表示强迫进程立即停止</p></li><li class="lvl-2"><p><code>killall 进程名称</code> ：通过进程名称杀死进程，也支持通配符，在系统因负载过大而变得很慢时很有用</p></li></ul><h4 id="！案例演示：">！案例演示：</h4><ul class="lvl-0"><li class="lvl-2"><p>踢出非法登录用户：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep sshd		//查看非法登录用户的PID</span><br><span class="line">kill 4010 				//踢出非法用户</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>终止远程服务 sshd，在适当的时候再次重启 sshd 服务</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep sshd</span><br><span class="line">kill 2221	//杀掉第一个sshd服务，此时所有的用户都不可以从sshd上进行连接</span><br><span class="line">service sshd start	//重启sshd服务，此时所有用户可以进行sshd连接</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>终止多个 gedit 编辑器</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall gedit</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>强制杀掉一个终端，终端对应一个 bash</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | gerp bash</span><br><span class="line">kill -9 4147	//因为系统会忽略杀掉终端命令，所以只能强制杀</span><br></pre></td></tr></table></figure><h3 id="4-pstree">(4).pstree</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：用树状来查看进程信息</p></li><li class="lvl-2"><p><code>pstree 选项</code>，常用选项如下：<br>-p：显示进程的PID<br>-u：显示进程的所属用户</p></li></ul><h3 id="5-Service">(5).Service</h3><ul class="lvl-0"><li class="lvl-2"><p>服务本质就是进程，但是是运行在后台的，通常都会监听某个端口，等待其他程序的请求，因此又称为守护进程</p></li><li class="lvl-2"><p>作用：控制一些软件的服务启动/停止/重启/重载/状态</p></li><li class="lvl-2"><p><code>service 服务名 start/stop/restart/reload/status</code></p></li><li class="lvl-2"><p>注意：在 Centos7.0 以后不再使用 service 命令，而是使用 systemctl 命令</p></li><li class="lvl-2"><p>注意：使用该命令执行以后会立即生效，但重启失效</p></li></ul><h4 id="！案例分析">！案例分析</h4><ul class="lvl-0"><li class="lvl-2"><p>查看当前防火墙状况</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service iptables status</span><br><span class="line">centos7下：systemctl status firewalld</span><br></pre></td></tr></table></figure><h4 id="！检测端口号是否被监听">！检测端口号是否被监听</h4><ul class="lvl-0"><li class="lvl-2"><p>在 Windows 端使用 Telnet客户端来检测</p></li><li class="lvl-2"><p>需要先在 程序和功能-启用或关闭Windows功能-Telnet 打钩</p></li><li class="lvl-2"><p>然后在 cmd 命令行中输入以下命令：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">telnet ip地址 端口号</span><br><span class="line">如：</span><br><span class="line">telnet 192.168.2.142 22</span><br></pre></td></tr></table></figure><h4 id="！查看服务名">！查看服务名</h4><ul class="lvl-0"><li class="lvl-2"><p>使用 setup 命令-&gt;系统服务</p></li><li class="lvl-2"><p><code>ls -l /etc/init.d/</code> 查看</p></li></ul><h3 id="6-chkconfig">(6).chkconfig</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：可以给各个运行级别设置自启动/关闭</p></li><li class="lvl-2"><p><code>chkconfig --list</code> ：查看全部服务</p></li><li class="lvl-2"><p><code>chkconfig --list | grep xxx</code> 或 <code>chkconfig 服务名 --list</code> ：查看具体某一个服务</p></li><li class="lvl-2"><p><code>chkconfig --level 运行级别 服务名 on/off</code> ：设置某个服务的运行级别自启动</p></li></ul><h3 id="7-top（动态监控进程）">(7).top（动态监控进程）</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看服务器的进程占的资源，且会自动更新</p></li><li class="lvl-2"><p><code>top</code> ：进入命令，动态显示<br><code>u</code> ：回车后输入用户名查看该用户下的进程<br><code>k</code> ：回车后输入进程ID号可以终止指定的进程<br><code>M</code> ：将结果按照内存（MER）从高到低进行排列<br><code>N</code> ：将结果按照PID排序<br><code>P</code> ：将结果按照CPU从高到低进行排列<br><code>1</code> ：当服务器拥有多个cpu的时候，使用1来切换是否展示显示cpu的详细信息<code>q</code>：退出命令</p></li><li class="lvl-2"><p>详细信息如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHnKK.png" alt="linux11.png"></p></li><li class="lvl-2"><p>进程所占资源如下图：<br><img src="https://s1.ax1x.com/2020/10/20/0zHFUJ.png" alt="linux05.png"></p></li><li class="lvl-2"><p><code>top 选项</code> ，具体选项如下：<br>-d 10：指定10秒刷新一次<br>-i：不显示任何闲置或者僵死进程<br>-p：通过指定监控进程ID来仅仅监控某个进程的状态</p></li><li class="lvl-2"><p>计算一个进程实际使用的内存 = 常驻内存 - 共享内存</p></li></ul><h3 id="8-netstat（监控网络状态）">(8).netstat（监控网络状态）</h3><ul class="lvl-0"><li class="lvl-2"><p>作用：查看系统网络情况</p></li><li class="lvl-2"><p><code>netstat -anp</code> ，选项如下：<br>-an：按一定顺序排列输出<br>-p：显示哪个进程在调用</p></li></ul><h2 id="6-RPM包管理">6.RPM包管理</h2><ul class="lvl-0"><li class="lvl-2"><p><code>rpm 选项</code> 选项如下：<br>-qa：查询所安装的所有软件包<br>-q 软件包名：查询软件包是否安装<br>-qa | grep 软件包名：查询软件包是否安装<br>-qi 软件包名：查询软件包信息<br>-ql 软件包名：查询软件包中的文件<br>-qf 文件全路径名：查询文件所属的软件包</p></li><li class="lvl-2"><p><code>rpm -e 软件包名</code> ：删除该软件包</p></li><li class="lvl-2"><p><code>rpm -e -nodeps 软件包名</code> ：强制删除某软件包</p></li><li class="lvl-2"><p><code>rpm -ivh RPM包全路径名称</code> ：安装某软件包<br>-i：安装<br>-v：提示<br>-h：进度条</p></li><li class="lvl-2"><p>安装时候需要先挂载安装系统的ISO文件，然后去 <code>/media/Packages</code> 下找到包，将其复制到 <code>/opt/</code> 中，再进行安装</p></li></ul><h2 id="7-yum包管理">7.yum包管理</h2><ul class="lvl-0"><li class="lvl-2"><p>yum 是一个 Shell 前端软件包管理器，基于 RPM包管理，可以从指定的服务器自动下载 RPM包并进行安装，还可以自动处理依赖关系</p></li><li class="lvl-2"><p><code>yum list | grep xx</code> ：查询软件列表中是否有这个软件</p></li><li class="lvl-2"><p><code>yum install xxx</code> ：下载并安装</p></li></ul><h1>四、JavaEE定制部分</h1><h2 id="1-准备文件">1.准备文件</h2><ul class="lvl-0"><li class="lvl-2"><p>在 Linux 上开发 Java 程序需要安装以下4个软件：jdk、tomcat、eclipse、MySQL</p></li><li class="lvl-2"><p>下载好以后使用 Xftp 上传到服务器的 <code>/opt/</code> 目录下</p></li></ul><h2 id="2-安装-jdk">2.安装 jdk</h2><ul class="lvl-0"><li class="lvl-2"><p>将 jdk 安装包解压到 <code>/opt/</code> 目录下</p></li><li class="lvl-2"><p>配置环境变量 <code>vim /etc/profile</code> ，在最后一行添加如下内容</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=/opt/jdk1.7.0_79		//解压后的文件夹名</span><br><span class="line">PATH=/opt/jdk1.7.0_79/bin:$PATH	//后面一定要加上原始PATH</span><br><span class="line">export JAVA_HOME PATH			//输出变量，使环境变量生效</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>使用 <code>source /etc/profile</code> 命令来使环境变量生效，也可以直接注销重新登录</p></li></ul><h2 id="3-安装-Tomcat">3.安装 Tomcat</h2><ul class="lvl-0"><li class="lvl-2"><p>将 Tomcat 安装包解压到 <code>/opt/</code> 目录下</p></li><li class="lvl-2"><p>切入到解压后文件夹的 <code>/bin</code> 目录</p></li><li class="lvl-2"><p>执行 <code>./startup.sh</code> 命令来运行 Tomcat</p></li><li class="lvl-2"><p>在服务器的浏览器中输入 <code>http://localhost:8080</code> 来检测是否成功启用 Tomcat</p></li><li class="lvl-2"><p>但是本地电脑却无法访问是因为防火墙没有让8080端口通过，所以可以修改 <code>/etc/sysconfig/iptables</code> 文件来让8080端口通过，将其中含有22端口的一行复制并粘贴修改为8080，然后使用 <code>service iptables restart</code> 来重启防火墙就可以了</p></li></ul><h2 id="4-安装-Eclipse">4.安装 Eclipse</h2><ul class="lvl-0"><li class="lvl-2"><p>将 Eclipse 安装包解压到 <code>/opt/</code> 目录下</p></li><li class="lvl-2"><p>进入解压后的文件夹，使用 <code>./eclipse</code> 命令启动 eclipse，注意配置jre与Tomcat</p></li></ul><h2 id="5-安装-MySQL">5.安装 MySQL</h2><h3 id="1-卸载旧版本">(1).卸载旧版本</h3><ul class="lvl-0"><li class="lvl-2"><p>使用 <code>rpm -qa | grep mysql</code> 命令检查是否安装有 MySQL Server</p></li><li class="lvl-2"><p>如果有的话通过 <code>rpm -e mysql-libs</code> 或 <code>rpm -e --nodeps mysql-libs</code> 命令来卸载掉</p></li></ul><h3 id="2-安装编译代码需要的包">(2).安装编译代码需要的包</h3><ul class="lvl-0"><li class="lvl-2"><p>使用 <code>yum -y install make gcc-c++ cmake bison-devel ncurses-devel</code> 命令来安装编译代码需要的包</p></li><li class="lvl-2"><p>将 MySQL 安装包解压到 <code>/opt/</code> 目录下</p></li><li class="lvl-2"><p>进入解压后的文件夹后输入以下命令</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/usr/local/mysql/data -DSYSCONFDIR=/etc -DWITH_MYISAM_STORAGE_ENGINE=1 -DWITH_INNOBASE_STORAGE_ENGINE=1 -DWITH_MEMORY_STORAGE_ENGINE=1 -DWITH_READLINE=1 -DMYSQL_UNIX_ADDR=/var/lib/mysql/mysql.sock -DMYSQL_TCP_PORT=3306 -DENABLED_LOCAL_INFILE=1 -DWITH_PARTITION_STORAGE_ENGINE=1 -DEXTRA_CHARSETS=all -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>使用 <code>make &amp;&amp; make install</code> 命令编译并安装</p></li></ul><h2 id="6-配置-MySQL">6.配置 MySQL</h2><ul class="lvl-0"><li class="lvl-2"><p>使用下面的命令查看是否有 mysql 用户及用户组</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd 查看用户列表</span><br><span class="line">cat /etc/group  查看用户组列表</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>如果没有的话就创建</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd mysql</span><br><span class="line">useradd -g mysql mysql</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>修改 <code>/usr/local/mysql</code> 权限</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R mysql:mysql /usr/local/mysql</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>初始化配置，<font color="#F00">进入安装路径（再执行下面的指令）</font>，执行初始化配置脚本，创建系统自带的数据库和表</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/mysql</span><br><span class="line">scripts/mysql_install_db --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --user=mysql</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>注：在启动 MySQL 服务时，会按照一定次序搜索 <code>my.cnf</code>，先在 <code>/etc</code> 目录下找，找不到则会搜索 <code>$basedir/my.cnf</code> ，在本例中就是 <code>/usr/local/mysql/my.cnf</code>，这是新版 MySQL 的配置文件的默认位置！</p></li></ul><h3 id="注意：">注意：</h3><ul class="lvl-0"><li class="lvl-2"><p>在 CentOS 6.8 版操作系统的最小安装完成后，在 <code>/etc</code> 目录下会存在一个 <code>my.cnf</code>，需要将此文件更名为其他的名字，如：<code>/etc/my.cnf.bak</code>，否则，该文件会干扰源码安装的 MySQL 的正确配置，造成无法启动</p></li><li class="lvl-2"><p>因此，需要修改名称，防止干扰：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /etc/my.cnf /etc/my.cnf.bak</span><br></pre></td></tr></table></figure><h2 id="7-启动-MySQL">7.启动 MySQL</h2><ul class="lvl-0"><li class="lvl-2"><p>添加服务，拷贝服务脚本到 <code>init.d</code> 目录，并设置开机启动，在 <code>/usr/local/mysql</code> 下执行以下命令：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp support-files/mysql.server /etc/init.d/mysql</span><br><span class="line">chkconfig mysql on</span><br><span class="line">service mysql start</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>执行下面的命令修改 root 密码，也可以将该路径增添到 PATH 路径中（即在冒号后面再添加路径和冒号</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/mysql/bin</span><br><span class="line">./mysql -u root -p					//第一次进入没有密码，直接回车</span><br><span class="line">SET PASSWORD = PASSWORD(&#x27;root&#x27;);	//单引号中是需要修改为的密码</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>重新进入以后就可以执行数据库相关操作</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br><span class="line">create database testDB;</span><br><span class="line">use testDB;</span><br><span class="line">create table user(id int,name varchar(32));</span><br><span class="line">insert into user values(1,&#x27;cat&#x27;);</span><br><span class="line">insert into user values(2,&#x27;dog&#x27;);</span><br><span class="line">select * from user;</span><br><span class="line">quit</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>备份 MySQL 的指令为：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -u用户名 -p密码 --host=主机名 数据库名 &gt; /backup/db/xxx.sql</span><br></pre></td></tr></table></figure><h1>五、大数据定制部分</h1><h2 id="1-Shell-简介">1.Shell 简介</h2><ul class="lvl-0"><li class="lvl-2"><p>Shell 是一个命令行解释器，为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序，用户可以用 Shell 来启动、挂起、停止甚至是编写一些程序</p></li><li class="lvl-2"><p>脚本格式要求：<br>1.脚本中以 <code>#!/bin/bash</code> 开头<br>2.脚本是个以 <code>.sh</code> 为后缀名的文件<br>3.脚本需要有可执行权限（一般来说）</p></li><li class="lvl-2"><p>内容编写格式：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#! /bin/sh</span><br><span class="line">#指定脚本的解析器，必须在第一行指定</span><br><span class="line">#注释用井号来表示</span><br><span class="line">echo #后面什么都不加时打印空行</span><br><span class="line">echo &quot;后面加字符串会打印字符串&quot;</span><br><span class="line">echo &quot;&quot; #打印空行</span><br><span class="line">/bin/pwd</span><br><span class="line">echo</span><br><span class="line">echo &quot;abc.&quot;</span><br><span class="line">/bin/ls</span><br></pre></td></tr></table></figure><h2 id="2-Shell-执行方式">2.Shell 执行方式</h2><h3 id="1-赋予权限执行">(1).赋予权限执行</h3><ul class="lvl-0"><li class="lvl-2"><p>给已经写好的脚本赋予所有者的执行权限</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod 744 myShell.sh</span><br><span class="line">或</span><br><span class="line">chmod u+x myShell.sh</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>相对路径执行</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./myShell.sh</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>绝对路径执行</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/root/shell/myShell.sh</span><br></pre></td></tr></table></figure><h3 id="2-不赋予权限执行">(2).不赋予权限执行</h3><ul class="lvl-0"><li class="lvl-2"><p>相对路径执行</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh ./myShell.sh</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>绝对路径执行</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh /root/shell/myShell.sh</span><br></pre></td></tr></table></figure><h2 id="3-变量">3.变量</h2><ul class="lvl-0"><li class="lvl-2"><p>变量变量分为：<strong>系统变量（环境变量）<strong>与</strong>用户自定义变量（本地变量）</strong></p></li></ul><h3 id="1-系统变量">(1).系统变量</h3><ul class="lvl-0"><li class="lvl-2"><p>有：<code>$PATH</code> 、 <code>$PWD</code> 、 <code>$SHELL</code> 、 <code>$USER</code></p></li><li class="lvl-2"><p>所有系统变量都是键值对的格式，系统变量查看命令：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo $PATH</span><br><span class="line">或者：</span><br><span class="line">env | grep $PATH</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>显示当前 Shell 中所有的变量：<code>set</code></p></li></ul><h3 id="2-用户自定义变量">(2).用户自定义变量</h3><ul class="lvl-0"><li class="lvl-2"><p>定义变量：<code>变量=值</code></p></li><li class="lvl-2"><p>撤销变量：<code>unset 变量</code></p></li><li class="lvl-2"><p>声明静态变量：<code>readonly 变量</code> ，但是静态变量不能使用撤销操作</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">A=100			//声明普通变量</span><br><span class="line">echo &quot;A=$A&quot;		//打印变量A，后面必须使用 `$` 符号</span><br><span class="line">unset A			//撤销变量A</span><br><span class="line">echo &quot;A=$A&quot;</span><br><span class="line">readonly B=99	//声明静态变量</span><br><span class="line">echo &quot;B=$B&quot;		//打印变量B，后面必须使用 `$` 符号</span><br><span class="line">unset B			//撤销变量B，出错</span><br><span class="line">echo &quot;B=$B&quot;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>定义变量的规则:<br>可以由字母、数字和下划线组成，但是不能以数字开头等号两侧不能有空格变量名称一般习惯大写</p></li></ul><h3 id="3-将命令的返回值赋值给变量">(3).将命令的返回值赋值给变量</h3><ul class="lvl-0"><li class="lvl-2"><p>使用反引号，将命令写入反引号中来然后赋值给变量</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A=`ls -l`</span><br><span class="line">echo $A</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>使用括号，将命令写入括号中来然后赋值给变量</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">B=$(date)</span><br><span class="line">echo &quot;$B&quot;</span><br></pre></td></tr></table></figure><h3 id="4-设置环境变量">(4).设置环境变量</h3><ul class="lvl-0"><li class="lvl-2"><p>在配置文件 <code>/etc/profile</code> 中使用如下语法来将 Shell 变量输出为环境变量</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">TOMCAT_HOME=/opt/tomcat</span><br><span class="line">export TOMCAT_HOME</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>使用如下命令让修改后的配置信息立即生效</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>在 Shell 脚本中查询环境变量的值</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $TOMCAT_HOME</span><br></pre></td></tr></table></figure><h2 id="4-位置变量参数">4.位置变量参数</h2><p>当执行 Shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量</p><h3 id="1-语法">(1).语法</h3><ul class="lvl-0"><li class="lvl-2"><p><code>$n</code> ：n为数字，<code>$0</code> 代表命令本身，<code>$1-$9</code> 代表1-9个参数，10以上的参数需要 <code>$&#123;10&#125;</code> 这样使用</p></li><li class="lvl-2"><p><code>$*</code> ：这个变量代表命令行中的所有的参数，而 <code>$*</code> 把所有的参数看成一个整体</p></li><li class="lvl-2"><p><code>$@</code> ：这个变量也代表命令行中的所有的参数，不过 <code>$@</code> 把每个参数区分对待</p></li><li class="lvl-2"><p><code>$#</code> ：这个变量代表命令行中所有参数的个数</p></li></ul><h3 id="2-案例">(2).案例</h3><ul class="lvl-0"><li class="lvl-2"><p>编写 <a target="_blank" rel="external nofollow noopener noreferrer" href="http://positionPara.sh">positionPara.sh</a> ，获取到命令行中的各个参数信息</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;$0 $1 $2&quot;</span><br><span class="line">echo &quot;$*&quot;</span><br><span class="line">echo &quot;$@&quot;</span><br><span class="line">echo &quot;$#&quot;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>执行 <code>./positionPara.sh 30 60</code> 命令，得到结果如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./positionPara.sh 30 60</span><br><span class="line">30 60</span><br><span class="line">30 60</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h2 id="5-预定义变量">5.预定义变量</h2><p>即事先定义好的变量，可直接在 Shell 中使用</p><h3 id="1-语法-2">(1).语法</h3><ul class="lvl-0"><li class="lvl-2"><p><code>$$</code> ：当前进程的进程号</p></li><li class="lvl-2"><p><code>$!</code> ：后台运行的最后一个进程的进程号</p></li><li class="lvl-2"><p><code>$?</code> ：最后一次执行的命令的返回状态如果这个变量的值为0，则上一个命令正确执行如果这个变量的值为非0（具体有命令自己决定），则上一个命令未正确执行</p></li></ul><h3 id="2-案例-2">(2).案例</h3><ul class="lvl-0"><li class="lvl-2"><p>在脚本中简单实用一下预定义变量</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;当前的进程号=$$&quot;</span><br><span class="line">#以后台的方式运行 myShell.sh</span><br><span class="line">./myShell.sh &amp;</span><br><span class="line">echo &quot;最后的进程号=$!&quot;</span><br><span class="line">echo &quot;执行得值=$?&quot;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>执行后的结果如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">当前的进程号=28088</span><br><span class="line">最后的进程号=28089</span><br><span class="line">执行得值=0</span><br><span class="line">[root@hadoop1 shell]# /opt/tomcat</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>因为这里后台运行了一个脚本，所以需要使用 ctrl+c 来暂停</p></li></ul><h2 id="6-运算符">6.运算符</h2><h3 id="1-基本语法">(1).基本语法</h3><ul class="lvl-0"><li class="lvl-2"><p><code>$((运算式))</code> 或 <code>$[运算式]</code></p></li><li class="lvl-2"><p>expr 语法，注意这里的运算符之间要有空格求和：<code>expr m + n</code>求差：<code>expr m - n</code>求乘：<code>expr \*</code>求除：<code>expr /</code>求余：<code>expr %</code></p></li></ul><h3 id="2-案例-3">(2).案例</h3><ul class="lvl-0"><li class="lvl-2"><p>求(2+3)*4的值</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#括号法</span><br><span class="line">RESULT1=$(((2+3)*4))</span><br><span class="line">echo &quot;result1=$RESULT1&quot;</span><br><span class="line">#中括号法</span><br><span class="line">RESULT2=$[(2+3)*4]</span><br><span class="line">echo &quot;result2=$RESULT2&quot;</span><br><span class="line">#分步法，需要将第一步的值使用反引号引起以后传给TEMP</span><br><span class="line">TEMP=`expr 2 + 3`</span><br><span class="line">RESULT3=`expr $TEMP \* 4`</span><br><span class="line">echo &quot;result3=$RESULT3&quot;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>求命令行里的两个参数的和</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#命令行中传入10和8求和</span><br><span class="line">RESULT4=$[$1+$2]</span><br><span class="line">echo &quot;result4=$RESULT4&quot;</span><br></pre></td></tr></table></figure><h2 id="7-流程控制语句">7.流程控制语句</h2><h3 id="1-条件判断语法">(1).条件判断语法</h3><ul class="lvl-0"><li class="lvl-2"><p><code>[ 判断内容 ]</code> ，在判断内容前后各有一个空格</p></li><li class="lvl-2"><p>该条件判断为非空时返回 true，为空时返回 false</p></li><li class="lvl-2"><p>也可以使用 <code>$?</code> 来验证，0为 true，1为 false</p></li></ul><h3 id="2-常用判断条件">(2).常用判断条件</h3><ul class="lvl-0"><li class="lvl-2"><p>两个字符串的比较<br><code>[ &quot;ok&quot; = &quot;ok&quot; ]</code></p></li><li class="lvl-2"><p>两个整数的比较：<br><code>[ 0 -lt 0 ]</code> ：小于<br><code>[ 0 -le 0 ]</code> ：小于等于<br><code>[ 0 -eq 0 ]</code> ：等于<br><code>[ 0 -gt 0 ]</code> ：大于<br><code>[ 0 -ge 0 ]</code> ：大于等于<br><code>[ 0 -ne 0 ]</code> ：不等于</p></li><li class="lvl-2"><p>按照文件权限进行判断：<br><code>[ -r 文件名 ]</code> ：有读的权限<br><code>[ -w 文件名 ]</code> ：有写的权限<br><code>[ -x 文件名 ]</code> ：有执行的权限</p></li><li class="lvl-2"><p>按照文件类型进行判断：<br><code>[ -f 文件名 ]</code> ：文件存在并且是一个常规的文件<br><code>[ -e 文件名 ]</code> ：文件存在<br><code>[ -d 文件名 ]</code> ：文件存在并是一个目录</p></li></ul><h3 id="3-if-判断语句">(3).if 判断语句</h3><ul class="lvl-0"><li class="lvl-2"><p>推荐语法如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">        程序语句</span><br><span class="line">elif [ 条件判断式 ]</span><br><span class="line">then</span><br><span class="line">        程序语句</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>不推荐语法如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ];then</span><br><span class="line">        程序语句</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>编写一个Shell程序，如果输入的参数大于等于60输出“ggg及格了”；小于60输出“不及格”</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ $1 -ge 60 ]</span><br><span class="line">then</span><br><span class="line">        echo &quot;及格了&quot;</span><br><span class="line">elif [ $1 -lt 60 ]</span><br><span class="line">then</span><br><span class="line">        echo &quot;不及格&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h3 id="4-case-判断语句">(4).case 判断语句</h3><ul class="lvl-0"><li class="lvl-2"><p>语法如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">&quot;值1&quot;)</span><br><span class="line">满足则执行该程序语句</span><br><span class="line">;;</span><br><span class="line">&quot;值2&quot;)</span><br><span class="line">满足则执行该程序语句</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">以上都不满足则执行该程序语句</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>当命令行参数是1时，输出周一；是2时，输出周二；其余输出other</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">echo &quot;周一&quot;</span><br><span class="line">;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">echo &quot;周二&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo &quot;other&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><h3 id="5-for-循环语句">(5).for 循环语句</h3><ul class="lvl-0"><li class="lvl-2"><p>语法1如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in &quot;值1 值2 值3···&quot;</span><br><span class="line">	do</span><br><span class="line">		程序</span><br><span class="line">	done</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>语法2如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for ((初始值;循环控制条件;变量变化))</span><br><span class="line">	do</span><br><span class="line">		程序</span><br><span class="line">	done</span><br></pre></td></tr></table></figure><h4 id="a-案例">a).案例</h4><ul class="lvl-0"><li class="lvl-2"><p>打印命令行输入的参数</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#将参数作为一个整体输出</span><br><span class="line">for i in &quot;$*&quot;</span><br><span class="line">do</span><br><span class="line">        echo &quot;the number is $i&quot;</span><br><span class="line">done</span><br><span class="line">#将参数分别输出</span><br><span class="line">for j in &quot;$@&quot;</span><br><span class="line">do</span><br><span class="line">        echo &quot;the number is $j&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>从1加到100的值输出显示</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SUM=0</span><br><span class="line">for ((i=1;i&lt;=100;i++))</span><br><span class="line">do</span><br><span class="line">        SUM=$[SUM+i]</span><br><span class="line">done</span><br><span class="line">echo &quot;sum=$SUM&quot;</span><br></pre></td></tr></table></figure><h3 id="6-while-循环语句">(6).while 循环语句</h3><ul class="lvl-0"><li class="lvl-2"><p>语法如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ]</span><br><span class="line">do</span><br><span class="line">	程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>从命令行中输入一个数n，统计从1+··+n的值是多少</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SUM=0</span><br><span class="line">i=0</span><br><span class="line">while [ $i -le $1 ]</span><br><span class="line">do</span><br><span class="line">        SUM=$[$SUM+$i]</span><br><span class="line">        i=$[$i+1]</span><br><span class="line">done</span><br><span class="line">echo &quot;sum=$SUM&quot;</span><br></pre></td></tr></table></figure><h2 id="8-读取控制台输入">8.读取控制台输入</h2><ul class="lvl-0"><li class="lvl-2"><p>使用 read 命令可以读取控制台的输入</p></li><li class="lvl-2"><p><code>read 选项 参数</code> ，选项如下：<br>-p：指定读取值时的提示符<br>-t：指定读取值时的等待的时间（秒），如果没有在指定的时间内输入，就不等待了参数：指定读取值的变量名</p></li><li class="lvl-2"><p>读取控制台输入两个num值，另一个在10秒内输入</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">read -p &quot;请输入数字1：&quot; NUM1</span><br><span class="line">echo &quot;你输入的数字1是：$NUM1&quot;</span><br><span class="line">read -t 10 -p &quot;请输入数字2：&quot; NUM2</span><br><span class="line">echo &quot;你输入的数字2是：$NUM2&quot;</span><br></pre></td></tr></table></figure><h2 id="9-函数">9.函数</h2><ul class="lvl-0"><li class="lvl-2"><p>shell编程和其他编程语言一样，有系统函数，也可以自定义函数</p></li></ul><h3 id="1-系统函数">(1).系统函数</h3><h4 id="a-basename">a).basename</h4><ul class="lvl-0"><li class="lvl-2"><p>作用：返回完整路径最后/的部分，常用于获取文件名</p></li><li class="lvl-2"><p>语法：<br><code>basename [pathname] [suffix]</code> ：<br><code>basename [string] [suffix]</code> ：</p></li><li class="lvl-2"><p>如果上面指定了 suffix ，那么就不会显示文件后缀名；不指定则会显示</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop1 ~]# basename /home/test.txt</span><br><span class="line">test.txt</span><br><span class="line">[root@hadoop1 ~]# basename /home/test.txt .txt</span><br><span class="line">test</span><br></pre></td></tr></table></figure><h4 id="b-dirname">b).dirname</h4><ul class="lvl-0"><li class="lvl-2"><p>作用：返回完整路径最后/的<font color="#F00">前面的部分</font>，常用于返回路径部分</p></li><li class="lvl-2"><p>语法：<br><code>dirname 文件的绝对路径</code></p></li><li class="lvl-2"><p>从给定的包含绝对路径的文件名中去除文件名，然后返回剩下的路径</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop1 ~]# dirname /home/aaa/test.txt</span><br><span class="line">/home/aaa</span><br></pre></td></tr></table></figure><h3 id="2-自定义函数">(2).自定义函数</h3><ul class="lvl-0"><li class="lvl-2"><p>基本语法（中括号中代表可选的）：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[function] 函数名[()]</span><br><span class="line">&#123;</span><br><span class="line">	程序语句;</span><br><span class="line">	[return int;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>调用时直接写 <code>函数名 值</code></p></li><li class="lvl-2"><p>案例：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#计算输入两个参数的和</span><br><span class="line">function getSum()</span><br><span class="line">&#123;</span><br><span class="line">        SUM=$[$n1+$n2];</span><br><span class="line">        echo &quot;这两个数的和是：$SUM&quot;;</span><br><span class="line">&#125;</span><br><span class="line">#从控制台输入两个数字</span><br><span class="line">read -p &quot;请输入第一个数字：&quot; n1</span><br><span class="line">read -p &quot;请输入第二个数字：&quot; n2</span><br><span class="line">#调用函数</span><br><span class="line">getSum $n1 $n2</span><br></pre></td></tr></table></figure><h2 id="10-综合案例之定期备份数据库">10.综合案例之定期备份数据库</h2><h3 id="1-需求分析">(1).需求分析</h3><ul class="lvl-0"><li class="lvl-2"><p>每天凌晨2:10分备份数据库 testDB 到 <code>/data/backup/db</code></p></li><li class="lvl-2"><p>备份开始和备份结束时能够给出相应的提示信息</p></li><li class="lvl-2"><p>备份后的文件要求以备份时间为文件名，并打包成 <code>.tar.gz</code> 的形式，比如：<code>2020_08_22_190501.tar.gz</code></p></li><li class="lvl-2"><p>在备份的同时，检查是否有10天前备份的数据库文件，如果有就将其删除</p></li></ul><h3 id="2-思路分析">(2).思路分析</h3><ul class="lvl-0"><li class="lvl-2"><p>第一点可以使用 crond 来实现</p></li><li class="lvl-2"><p>第二点在 shell 脚本中输出提示信息即可</p></li><li class="lvl-2"><p>第三点可以先使用一个临时文件夹来存放 <code>.gz</code> 文件，然后最后进行打包成 <code>.tar.gz</code> 文件并删除临时文件</p></li><li class="lvl-2"><p>第四点需要使用固定指令来删除10天前数据库文件</p></li><li class="lvl-2"><p>将 shell 脚本放在 <code>/usr/sbin</code> 目录下，将备份文件放置在 <code>/data/backup/db</code> 下</p></li></ul><h3 id="3-代码实现">(3).代码实现</h3><ul class="lvl-0"><li class="lvl-2"><p>shell 脚本代码如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">#完成数据库的备份</span><br><span class="line">#定义备份的路径</span><br><span class="line">BACKUP=/data/backup/db</span><br><span class="line">#使用当前时间作为文件名</span><br><span class="line">DATETIME=$(date +%Y_%m_%d_%H%M%S)</span><br><span class="line">#测试文件名是否准确</span><br><span class="line">#echo &quot;$DATETIME&quot;</span><br><span class="line">#也可以用中括号包起来</span><br><span class="line">#echo $&#123;DATETIME&#125;</span><br><span class="line">echo &quot;============开始备份============&quot;</span><br><span class="line">echo &quot;== 备份路径为 $BACKUP ==&quot;</span><br><span class="line">#定义数据库的主机</span><br><span class="line">HOST=localhost</span><br><span class="line">#定义数据库的用户名与密码</span><br><span class="line">DB_USER=root</span><br><span class="line">DB_PWD=root</span><br><span class="line">#定义备份数据库名</span><br><span class="line">DATABASE=testDB</span><br><span class="line">#创建备份的路径，如果路径存在则直接使用，不过不存在就创建</span><br><span class="line">if [ ! -d &quot;$BACKUP/$DATETIME&quot; ]</span><br><span class="line">then</span><br><span class="line">        mkdir -p &quot;$BACKUP/$DATETIME&quot;</span><br><span class="line">fi</span><br><span class="line">#执行mysql备份数据库的指令</span><br><span class="line">mysqldump -u$&#123;DB_USER&#125; -p$&#123;DB_PWD&#125; --host=$HOST $DATABASE | gzip &gt; $BACKUP/$DATETIME/$DATETIME.sql.gz</span><br><span class="line">#打包备份文件</span><br><span class="line">cd $BACKUP</span><br><span class="line">tar -zcvf $DATETIME.tar.gz $DATETIME</span><br><span class="line">#删除临时目录</span><br><span class="line">rm -rf $BACKUP/$DATETIME</span><br><span class="line">#删除10天前的备份文件</span><br><span class="line">find $BACKUP -mtime +10 -name &quot;*.tar.gz&quot; -exec rm -rf &#123;&#125; \;</span><br><span class="line">echo &quot;============备份成功============&quot;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>cront 代码如下：</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">10 2 * * * /usr/sbin/mysql_db_backup.sh</span><br></pre></td></tr></table></figure><h1>问题解决</h1><h2 id="1-“-etc-profile”-is-read-only">1.“/etc/profile” is read-only</h2><p>使用sudo、使用su、修改文件权限</p><h2 id="2-bash-vim-command-not-found">2.-bash: vim: command not found</h2><p>使用sudo yum -y install vim*安装</p><h2 id="3-bin-bash-q-command-not-found">3./bin/bash: q: command not found</h2><p>退出时使用了错误的!q而不是q!</p><h2 id="4-bash-wget-command-not-found">4.-bash: wget: command not found</h2><p>使用yum -y install wget安装</p><h2 id="5-gzip-stdin-not-in-gzip-format">5.gzip: stdin: not in gzip format</h2><p>这个压缩包没有用gzip格式压缩，所以不用加z指令就可以了，即 <code>tar -xvf 压缩包</code></p><h2 id="6-安装python3提示configure-error-no-acceptable-C-compiler-found-in-PATH">6.安装python3提示configure: error: no acceptable C compiler found in $PATH</h2><p>没有安装gcc编译器，使用yum install gcc -y安装即可</p></div><footer class="post-footer"><div class="my_post_copyright"><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script><script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script><p><span>本文标题:</span><a href="/Learn-Linux.html">学习笔记：Linux（尚硅谷）</a></p><p><span>文章作者:</span><a href="/" title="访问 Zhang Yangeng 的个人博客">Zhang Yangeng</a></p><p><span>发布时间:</span>2019年03月10日 - 22:03</p><p><span>最后更新:</span>2023年01月31日 - 18:01</p><p><span>许可协议:</span><i class="fab fa-creative-commons"></i> <a rel="external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a></p><p><span>注意事项:</span>转载请保留原文链接及作者，请尊重作者的劳动成果</p><p><span>原始链接:</span><a href="/Learn-Linux.html" title="学习笔记：Linux（尚硅谷）">https://www.wrysmile.cn/Learn-Linux.html</a> <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="https://www.wrysmile.cn/Learn-Linux.html" aria-label="复制成功！"></i></span></p></div><script>var clipboard=new Clipboard(".fa-clipboard");$(".fa-clipboard").click(function(){clipboard.on("success",function(){swal({title:"",text:"复制成功",icon:"success",showConfirmButton:!0})})})</script><div class="reward-container"><div>坚持原创技术分享，您的支持将是对我最大的鼓励！</div><button onclick='document.querySelector(".post-reward").classList.toggle("active")'>赞赏</button><div class="post-reward"><div><img src="https://s2.ax1x.com/2019/01/28/kKrX7T.png" alt="Zhang Yangeng 微信"> <span>微信</span></div><div><img src="https://i.loli.net/2019/01/25/5c4ac75f2e5b7.jpg" alt="Zhang Yangeng 支付宝"> <span>支付宝</span></div></div></div><div class="post-tags"><a href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag"><i class="fa fa-tag"></i> 学习</a> <a href="/tags/Linux/" rel="tag"><i class="fa fa-tag"></i> Linux</a></div><div class="post-nav"><div class="post-nav-item"><a href="/53581.html" rel="prev" title="U盘向：启动盘恢复为普通U盘"><i class="fa fa-chevron-left"></i> U盘向：启动盘恢复为普通U盘</a></div><div class="post-nav-item"><a href="/12726.html" rel="next" title="玩机：油猴插件实现超星自动刷课">玩机：油猴插件实现超星自动刷课 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC80MjQ5Ni8xOTA0Mw=="></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2019 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Wrysmile</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">413k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">6:15</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script><script type="text/javascript">!function(e,r){function t(){for(var e=0;e<n.length;e++)n[e].alpha<=0?(r.body.removeChild(n[e].el),n.splice(e,1)):(n[e].y--,n[e].scale+=.004,n[e].alpha-=.013,n[e].el.style.cssText="left:"+n[e].x+"px;top:"+n[e].y+"px;opacity:"+n[e].alpha+";transform:scale("+n[e].scale+","+n[e].scale+") rotate(45deg);background:"+n[e].color+";z-index:99999");requestAnimationFrame(t)}var o,n=[];e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},function(t){var a=r.createElement("style");a.type="text/css";try{a.appendChild(r.createTextNode(t))}catch(e){a.styleSheet.cssText=t}r.getElementsByTagName("head")[0].appendChild(a)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o="function"==typeof e.onclick&&e.onclick,e.onclick=function(e){var t,a;o&&o(),t=e,(a=r.createElement("div")).className="heart",n.push({el:a,x:t.clientX-5,y:t.clientY-5,scale:1,alpha:1,color:"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}),r.body.appendChild(a)},t()}(window,document)</script><script type="text/javascript">var titleTime,OriginTitle=document.title;document.addEventListener("visibilitychange",function(){document.hidden?($('[rel="icon"]').attr("href","/img/TEP.ico"),document.title="╭(°A°`)╮ 页面崩溃啦 ~",clearTimeout(titleTime)):($('[rel="icon"]').attr("href","/favicon.ico"),document.title="(ฅ>ω<*ฅ) 噫又好了~"+OriginTitle,titleTime=setTimeout(function(){document.title=OriginTitle},2e3))})</script></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/third-party/search/local-search.js"></script><script class="next-config" data-name="nprogress" type="application/json">{&quot;enable&quot;:true,&quot;spinner&quot;:false}</script><script src="/js/third-party/nprogress.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="leancloud_visitors" type="application/json">{&quot;enable&quot;:true,&quot;app_id&quot;:&quot;mzhbgeWR9BA3SvqtvaAJulC1-gzGzoHsz&quot;,&quot;app_key&quot;:&quot;xcGndtx2gmyop5yrT6euUk9G&quot;,&quot;server_url&quot;:null,&quot;security&quot;:false}</script><script src="/js/third-party/statistics/lean-analytics.js"></script><script src="/js/third-party/comments/livere.js"></script></body></html>